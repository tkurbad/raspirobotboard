                    Python .egg creation
                    ====================

To create an .egg of the module (only tested on Python2)

$ python2 setup.py bdist_egg

To install

$ sudo easy_install dist/torbot-1.0-py2.7.egg


                 Getting jackd to cooperate
                 ==========================

To properly use the espeak Python module, and thus warrant for a
lag-free speech output of the TorBot, it is necessary to have an
instance of the JACK audio connection kit daemon 'jackd' running.

Unfortunately, jackd in Raspbian is compiled with dbus support, which
introduces a dependency on X11.

To get rid of that dependency, jackd has to be build from source without
dbus support.

The following tutorial shows you how to do that. Note that all commands
have to be executed as root, either via sudo or directly logged in.

Note: The directory containing the git checkout of the torbot source
      code will be referred to as $TORBOT_DIR.

1. Install jackd sources and dependencies
-----------------------------------------

 $ cd /usr/src/
 $ apt-get source jackd
 $ apt-get install build-essential cdbs d-shlibs libsamplerate-dev \
        libasound2-dev libdbus-1-dev libexpat1-dev libsndfile1-dev \
        libreadline-dev libraw1394-dev

2. Build customized jackd
-------------------------

 $ cd jackd2-<version>
 $ patch -p1 < $TORBOT_DIR/patches/100-jackd2-debian-rules.patch
 $ dpkg-buildpackage

3. Install customized jackd packages
------------------------------------

 $ dpkg -i libjack-jackd2-<version>+rpi2_armhf.deb \
        jackd2_<version>+rpi2_armhf.deb
 $ aptitude hold libjack-jackd2-0
 $ aptitude hold jackd2

4. Copy and enable init script
--------------------------------

 $ cp -a $TORBOT_DIR/patches/110-jackd.init /etc/init.d/jackd
 $ chown root:root /etc/init.d/jackd
 $ chmod 755 /etc/init.d/jackd
 $ update-rc.d jackd defaults
 $ update-rc.d jackd enable

5. Start jackd as root and enjoy
--------------------------------

 $ service jackd start
